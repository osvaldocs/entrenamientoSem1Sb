spring.application.name=demo

# ═══════════════════════════════════════════════════════════════════════════════
# SQL Logging Configuration (HU4 - TASK 2: Performance Monitoring)
# ═══════════════════════════════════════════════════════════════════════════════
# Purpose: Enable detailed SQL logging to detect N+1 queries and verify
#          performance improvements after optimizations

# Show SQL queries in console
spring.jpa.show-sql=true

# Format SQL queries for better readability
spring.jpa.properties.hibernate.format_sql=true

# Enable DEBUG level logging for Hibernate SQL
logging.level.org.hibernate.SQL=DEBUG

# Enable TRACE level logging for SQL parameter binding
# This shows the actual values being bound to SQL parameters
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ═══════════════════════════════════════════════════════════════════════════
# Batch Fetching Configuration (HU4 - TASK 2: Performance Optimization)
# ═══════════════════════════════════════════════════════════════════════════
# Configures batch size for fetching lazy collections/associations
# TASK 2: "configuración de batchSize" para reducir N+1 queries

# When Hibernate loads lazy associations, instead of making N queries (one per entity),
# it batches them into fewer queries (N/batch_size queries).
# Example: 100 events with lazy venue → Without batch: 100 queries, With batch size 10: 10 queries
spring.jpa.properties.hibernate.default_batch_fetch_size=10

# Additional batch optimizations
spring.jpa.properties.hibernate.jdbc.batch_size=10
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
